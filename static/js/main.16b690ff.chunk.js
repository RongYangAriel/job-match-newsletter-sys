(this.webpackJsonpnewsletter=this.webpackJsonpnewsletter||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(14),l=a.n(c),s=(a(42),a.p,a(43),a(26)),i=a(27),r=a(12),d=a(30),j=a(29),b=a(18),u=a(67),h=a(8),m=a(2),p=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.props.toggle()},n.handleChange=function(e){var t=Object(h.a)(Object(h.a)({},n.state.email),{},{body:e.target.value});n.setState({email:t},(function(){console.log(n.state.email)}))},n.fromChangeHandler=function(e){var t=Object(h.a)(Object(h.a)({},n.state.email),{},{from:e.target.value});n.setState({email:t},(function(){console.log(n.state.email)}))},n.subjectChangeHandler=function(e){var t=Object(h.a)(Object(h.a)({},n.state.email),{},{subject:e.target.value});n.setState({email:t},(function(){console.log(n.state.email)}))},n.handleSubmit=function(e){n.setState(Object(h.a)(Object(h.a)({},n.state.email),{},{templateReady:!0}))},n.state={email:{body:n.props.body,from:n.props.from,to:null,subject:n.props.subject},templateReady:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"email",children:[Object(m.jsx)("div",{className:"close",onClick:this.handleClick,children:"\xd7    "}),Object(m.jsxs)("dl",{className:"meta dl-horizontal",children:[Object(m.jsxs)("dt",{children:["From",Object(m.jsx)("input",{type:"email",onChange:this.fromChangeHandler})]}),Object(m.jsx)("dd",{children:this.props.from}),Object(m.jsx)("dt",{children:"To"}),Object(m.jsx)("dd",{children:this.props.to}),Object(m.jsxs)("dt",{children:["Subject",Object(m.jsx)("input",{type:"text",onChange:this.subjectChangeHandler})]}),Object(m.jsx)("dd",{children:this.props.subject})]}),Object(m.jsxs)("form",{children:[Object(m.jsx)("textarea",{type:"text",className:"body",value:this.state.email.body,onChange:this.handleChange}),Object(m.jsxs)(u.a,{className:"save-btn",color:"primary",variant:"contained",children:["SAVE",Object(m.jsx)("input",{type:"submit",value:"Save",hidden:!0,onClick:this.handleSubmit})]})]})]})}}]),a}(n.Component),f=a(13),O=a(11),v=a(23),y=a(66),x=["Location","TechStack","Seniority","IOM"],g=function(e){var t=Object(n.useState)({cols:[].concat(Object(O.a)(e.talent.cols),[{name:"L",key:11},{name:"Link 1",key:12},{name:"Link 2",key:13},{name:"Link 3",key:14},{name:"Link 4",key:15},{name:"Link 5",key:16},{name:"Preview",key:17}]),rows:Object(O.a)(e.talent.rows)}),a=Object(v.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),s=Object(v.a)(l,2),i=s[0],r=s[1],d=Object(n.useState)(!1),j=Object(v.a)(d,2),u=j[0],h=j[1],p=Object(n.useState)({}),g=Object(v.a)(p,2),w=(g[0],g[1],function(t,a){var n,o=Object(O.a)(e.jd.rows).slice(1),c=Object(O.a)(e.jd.rows[0]).indexOf("JobURL"),l=[],s=Object(f.a)(t);try{for(s.s();!(n=s.n()).done;){var i=n.value;l.push(o[i[0]][c])}}catch(r){s.e(r)}finally{s.f()}return l});return Object(n.useEffect)((function(){var t=function(){var t,a={},n={},o=Object(f.a)(x);try{for(o.s();!(t=o.n()).done;)for(var c=t.value,l=0;l<e.talent.rows[0].length;l++)e.talent.rows[0][l]===c&&(a[c]=l)}catch(j){o.e(j)}finally{o.f()}var s,i=Object(f.a)(x);try{for(i.s();!(s=i.n()).done;)for(var r=s.value,d=0;d<e.jd.rows[0].length;d++)e.jd.rows[0][d]===r&&(n[r]=d)}catch(j){i.e(j)}finally{i.f()}return{talentMap:a,jdMap:n}}(),a=function(t){for(var a=t.talentMap,n=t.jdMap,o={},c=[],l=e.talent.rows.slice(1),s=e.jd.rows.slice(1),i=0;i<l.length;i++){o[i]={},c[i]=[];for(var r=0;r<s.length;r++){var d,j=0,b=Object(f.a)(x);try{for(b.s();!(d=b.n()).done;){var u=d.value;l[i][a[u]]===s[r][n[u]]&&j++}}catch(h){b.e(h)}finally{b.f()}o[i]["".concat(r)]=j}c[i]=Object.entries(o[i]).sort((function(e,t){return t[1]-e[1]})).slice(0,5)}return console.log("whole sorted result",c),c}({talentMap:t.talentMap,jdMap:t.jdMap}),n=function(t){var a=Object(O.a)(e.talent.rows);if(!1===i){for(var n=0;n<t.length;n++){var o,c=w(t[n]),l=Object(f.a)(c);try{for(l.s();!(o=l.n()).done;){var s=o.value;a[n+1].push(s)}}catch(d){l.e(d)}finally{l.f()}}return r(!0),a}return a}(a),l=function(t){for(var a=Object(O.a)(e.jd.rows).slice(1),n={},o=0;o<t.length;o++){n[o]=[];var c,l=Object(f.a)(t[o]);try{for(l.s();!(c=l.n()).done;){var s=c.value;n[o].push(a[s[0]])}}catch(i){l.e(i)}finally{l.f()}}return n}(a);c({cols:Object(O.a)(o.cols),rows:n}),h(!0),console.log(l)}),[i]),Object(n.useEffect)((function(){console.log("table update",o)}),[o]),Object(n.useEffect)((function(){console.log("isbuilt update",i)}),[i]),Object(n.useEffect)((function(){console.log("ready update",u)}),[u]),Object(n.useEffect)((function(){r(!1)}),[e]),Object(m.jsx)("div",{className:"table",children:u?Object(m.jsx)(b.OutTable,{data:o.rows,columns:o.cols,tableClassName:"matchedDataTable"}):Object(m.jsx)(y.a,{})})},w=(a(51),a(52),function(e){return Object(m.jsxs)("div",{className:"email",children:[Object(m.jsx)("label",{children:"Candidate Index: "}),Object(m.jsx)("input",{type:"number"}),Object(m.jsx)("div",{className:"close",onClick:undefined.handleClick,children:"\xd7    "}),Object(m.jsx)("p",{children:e.email.body})]})}),k=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).talentHandler=function(e){var t=e.target.files[0];Object(b.ExcelRenderer)(t,(function(e,t){e?console.log("error",e):n.setState({talent:{cols:t.cols,rows:t.rows,dataLoaded:!0}},(function(){console.log(n.state),alert("Talent Data is Uploaded")}))}))},n.jdHandler=function(e){var t=e.target.files[0];Object(b.ExcelRenderer)(t,(function(e,t){e?console.log("error",e):n.setState({jd:{cols:t.cols,rows:t.rows,dataLoaded:!0}},(function(){console.log(n.state),alert("Job Description is Uploaded")}))}))},n.matchData=function(){n.state.talent.dataLoaded&&n.state.jd.dataLoaded&&n.setState({dataLoaded:!0},(function(){console.log(n.state)}))},n.emailPop=function(e){n.setState({emailPoped:!n.state.emailPoped},(function(){console.log(n.state)}))},n.previewPop=function(e){n.setState({emailPoped:!n.state.previewPoped},(function(){console.log(n.state)}))},n.state={talent:{cols:null,rows:null,dataLoaded:!1},jd:{cols:null,rows:null,dataLoaded:!1},matchedJobs:{cols:{talentName:"Talent Name",email:" Email",location:" Location",seniority:"Seniority",techstack:"Tech Stack",IOM:"IOM",jobLinks:"Job Links",linkedIn:""},rows:null,dataLoaded:!1},emailTemplate:{subject:null,body:"Hi, \n This is Kirby who has connected with you on LinkedIn several days ago. I would like to share the open opportunities that could be a good match for you.  Meanwhile, I\u2019d love to send the job openings that could be a good fit along with our insights to you every week. Hope the information could help you more with your career choice. \n ",matchedPosition:null,close:"Thanks, Kirby",from:null},emailPoped:!1,dataLoaded:!1,previewPoped:!1},n.talentHandler=n.talentHandler.bind(Object(r.a)(n)),n.jdHandler=n.jdHandler.bind(Object(r.a)(n)),n.emailPop=n.emailPop.bind(Object(r.a)(n)),n.matchData=n.matchData.bind(Object(r.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"links",children:[Object(m.jsxs)(u.a,{variant:"contained",color:"primary",component:"label",children:["Talent Import",Object(m.jsx)("input",{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:this.talentHandler,hidden:!0})]}),Object(m.jsxs)(u.a,{variant:"contained",color:"primary",component:"label",children:["JD Import",Object(m.jsx)("input",{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:this.jdHandler,hidden:!0})]}),Object(m.jsx)(u.a,{variant:"contained",color:"primary",component:"label",onClick:this.emailPop,children:"Email Template"})]}),Object(m.jsxs)("div",{className:"links",children:[Object(m.jsx)(u.a,{variant:"contained",color:this.state.talent.dataLoaded&&this.state.jd.dataLoaded?"primary":"default",component:"label",onClick:this.matchData,children:"Load Data"}),Object(m.jsx)(u.a,{variant:"contained",color:this.state.dataLoaded?"primary":"default",component:"label",onClick:this.previewPop,children:"Preview"})]}),this.state.emailPoped?Object(m.jsx)("div",{className:"email-container show",children:Object(m.jsx)(p,{toggle:this.emailPop,body:this.state.emailTemplate.body,subject:this.state.emailTemplate.subject,from:this.state.emailTemplate.from})}):Object(m.jsx)("div",{className:"email-container hidden",children:Object(m.jsx)(p,{toggle:this.emailPop,body:this.state.emailTemplate.body,subject:this.state.emailTemplate.subject,from:this.state.emailTemplate.from})}),this.state.dataLoaded?Object(m.jsx)("div",{className:"data-talbe",children:Object(m.jsx)(g,{talent:this.state.talent,jd:this.state.jd})}):null,this.state.previewPoped?Object(m.jsx)("div",{children:Object(m.jsx)(w,{emailText:this.props.email.body})}):null]})}}]),a}(n.Component);var C=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("header",{className:"App-header",children:Object(m.jsx)("h1",{children:"OCInsights Automated Newsletter System"})}),Object(m.jsx)(k,{})]})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),o(e),c(e),l(e)}))};l.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),L()}},[[53,1,2]]]);
//# sourceMappingURL=main.16b690ff.chunk.js.map